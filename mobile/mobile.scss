// Portrait card style for mobile: default stacked layout
.topic-cards-list--portrait {
  .topic-list-body {
    gap: var(--space-4);
  }
}

// Landscape card style for mobile: row layout adapted for mobile
.topic-cards-list--landscape {
  .topic-list-body {
    gap: var(--space-3);
  }
}

.topic-card--portrait {
  flex-direction: column;
  max-height: none;
  max-width: none;
  padding: var(--space-3);
  gap: 0;

  &:has(.topic-card__thumbnail) {
    max-height: unset;
  }

  .pull-left,
  .topic-item-stats,
  .topic-item-metadata {
    display: none !important;
  }

  .topic-list-data {
    max-width: none;
  }

  &__thumbnail {
    text-align: center;
    margin-bottom: var(--space-3);

    .main-thumbnail {
      width: 100%;
      max-height: 250px;
      // Portrait: thumbnail on top, round top corners only
      border-top-left-radius: var(--d-border-radius-large);
      border-top-right-radius: var(--d-border-radius-large);
      background: var(--primary-low);
    }
  }

  &__tags {
    display: block;
    width: 100%;
    box-sizing: border-box;
    margin: 0 0 var(--space-2);
    padding: 0 var(--space-2);
  }

  .main-link {
    display: grid;
    grid-template-areas:
      "tags tags"
      "title title"
      "excerpt excerpt"
      "op op"
      "metadata metadata";
    grid-template-rows: auto auto auto 1fr auto;
    width: 100%;
    padding: var(--space-3) var(--space-5) !important;
    gap: var(--space-2) 0;

    &:first-child {
      grid-template-columns: auto 1fr;
    }

    .link-top-line {
      grid-area: title;
    }

    .link-bottom-line {
      display: none !important; // avoid duplicate tags/meta on mobile
    }
  }
}

// Landscape card style for mobile: row layout with compact spacing
.topic-card--landscape {
  flex-direction: row;
  max-height: none;
  padding: var(--space-2);
  gap: var(--space-3);

  &:has(.topic-card__thumbnail) {
    max-height: unset;
  }

  .pull-left,
  .topic-item-stats,
  .topic-item-metadata {
    display: none !important;
  }

  .topic-list-data {
    max-width: none;
  }

  &__thumbnail {
    flex: 0 0 35%;
    max-width: 150px;
    text-align: left;
    margin-bottom: 0;

    .main-thumbnail {
      width: 100%;
      height: 100%;
      max-height: 120px;
      object-fit: cover;
      // Landscape: thumbnail on left, round left corners only
      border-top-left-radius: var(--d-border-radius);
      border-bottom-left-radius: var(--d-border-radius);
      background: var(--primary-low);
    }
  }

  &__tags {
    display: block;
    width: 100%;
    box-sizing: border-box;
    margin: 0 0 var(--space-1);
    padding: 0;
  }

  .main-link {
    display: grid;
    grid-template-areas:
      "tags tags"
      "title title"
      "excerpt excerpt"
      "op op"
      "metadata metadata";
    grid-template-rows: auto auto 1fr auto auto;
    width: 100%;
    padding: 0 !important;
    gap: var(--space-1) 0;

    &:first-child {
      grid-template-columns: auto 1fr;
    }

    .link-top-line {
      grid-area: title;
      font-size: var(--font-down-1);
    }

    .link-bottom-line {
      display: none !important;
    }
  }

  .topic-card__excerpt {
    font-size: var(--font-down-1);
  }

  .topic-card__metadata {
    font-size: var(--font-down-2);
  }

  .topic-card__op {
    font-size: var(--font-down-2);
  }
}
